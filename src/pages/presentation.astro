---
import Image from "../../public/img/test.png";
import Image2 from "../../public/img/test2.jpg"
---

<!-- liaison banner -->
<section id="presentation" class="pt-12">
    <h2>Presentation</h2>
</section>

<!-- image presentation -->
<div class="parallax-container">
    <h1 class="image-title">Horizon Scholars</h1>
    <img src={Image2.src} alt="Image" class="parallax-image" />
</div>

<!-- texte en dessous image presentation -->
<section class="content-section" id="text-section">
    <h1 class="hidden-text">Bienvenue dans l'effet d'apparition</h1>
    <p class="hidden-text">
        Ceci est un texte qui apparaît avec l'effet de défilement.
    </p>
</section>

<style>
    /* Style général */
    body,
    html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
    }

    /* Container avec l'effet de parallaxe */
    .parallax-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #ffffff;    /*iiiiiiicccccccccciiiiiiiiiiiiii */
    }

    /* Image sans forme ronde */
    .parallax-image {
        width: auto;
        height: auto;
        max-width: 100%;
        transition: transform 0.5s ease-out;
    }

    /* Titre au-dessus de l'image, visible au début, légèrement plus haut */
    .image-title {
        position: absolute;
        top: 5%;
        left: 50%;
        transform: translate(-50%, -10%);
        color: rgb(96, 96, 96);
        font-size: 3em;
        opacity: 1;
        transition:
            opacity 0.6s ease-out,
            transform 0.6s ease-out;
    }

    /* Classe pour faire disparaître le titre */
    .image-title.hidden {
        opacity: 0;
        transform: translate(-50%, -50%);
    }

    /* Section avec le texte caché */
    .content-section {
        padding: 100px 50px;
        background-color: #f4f4f4;
        text-align: center;
        opacity: 0;
        transform: translateY(50px);
        transition:
            opacity 0.6s ease-out,
            transform 0.6s ease-out;
    }

    /* Classe pour faire apparaître le texte */
    .visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* Style du texte */
    .hidden-text {
        font-size: 2em;
        margin: 20px 0;
    }
</style>

<script>
    // Parallaxe pour l'image
    window.addEventListener("scroll", function () {
        const scrolled = window.pageYOffset;
        const parallaxImage = document.querySelector(
            ".parallax-image",
        ) as HTMLElement;
        const imageTitle = document.querySelector(
            ".image-title",
        ) as HTMLElement;

        // Vérifier si parallaxImage et imageTitle existent avant de les manipuler
        if (parallaxImage) {
            // Déplace l'image légèrement lors du défilement
            parallaxImage.style.transform =
                "translateY(" + scrolled * 0.3 + "px)";
        }

        if (imageTitle) {
            // Faire disparaître le titre en descendant
            const screenPosition = window.innerHeight / 1.3;
            if (scrolled > screenPosition) {
                imageTitle.classList.add("hidden");
            } else {
                imageTitle.classList.remove("hidden");
            }
        }
    });

    // Apparition du texte lorsque l'utilisateur descend
    window.addEventListener("scroll", function () {
        const textSection = document.querySelector(
            ".content-section",
        ) as HTMLElement;

        // Vérifier si textSection existe avant de la manipuler
        if (textSection) {
            const sectionPosition = textSection.getBoundingClientRect().top;
            const screenPosition = window.innerHeight / 1.3;

            // Si la section atteint une certaine position, ajoute la classe 'visible'
            if (sectionPosition < screenPosition) {
                textSection.classList.add("visible");
            }
        }
    });
</script>
